"use strict";var __assign=function(){return(__assign=Object.assign||function(n){for(var r,t=1,e=arguments.length;t<e;t++)for(var i in r=arguments[t])Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i]);return n}).apply(this,arguments)},__rest=function(n,r){var t={};for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,i=Object.getOwnPropertySymbols(n);e<i.length;e++)r.indexOf(i[e])<0&&Object.prototype.propertyIsEnumerable.call(n,i[e])&&(t[i[e]]=n[i[e]]);return t};function filterTie(n){var t=[];return n.forEach(function(n,r){n=__assign({},n);"tie"!==n.winner?(n.tieCount=0,t.push(n)):0===r?(n.tieCount=1,t.push(n)):t[t.length-1].tieCount+=1}),"tie"===(null==(n=t[0])?void 0:n.winner)&&1<t.length&&(n=t.shift(),t[0].tieCount+=n.tieCount),t}function turnRightColumn(n,e){void 0===e&&(e=6);var o={},i=[];return n.forEach(function(n){var r=function(n,r){var t=__rest(n,[]),n=o.position||[0,0],e=r[n[0]];{var i;n=e?t.winner===o.winner?(i=e.findIndex(function(n){return!n}),e=e.slice(0,i).some(function(n){return n.winner!==t.winner}),o.changeColumn||!~i||e?(t.changeColumn=!0,[n[0]+1,n[1]]):[n[0],i]):~(e=r.findIndex(function(n){return!n[0]}))?[e,0]:[r.length,0]:[0,0]}return t.position=n,o=t,n}(n,i),t=r[0],r=r[1];i[t]||(i[t]=Array.from({length:e})),i[t][r]=n}),i}function bigWayInfiniteRow(n){var e={},i=[];return filterTie(n).forEach(function(n){var r=function(n,r){var n=__rest(n,[]),t=r[r.length-1];t=t?n.winner===e.winner?[r.length-1,t.length]:[r.length,0]:[0,0];return e=n,t}(n,i),t=r[0],r=r[1];i[t]||(i[t]=[]),i[t][r]=n}),i}function threeWayColumn(e,i,o){var a=[];return e.forEach(function(n,t){n.forEach(function(n,r){(t===i[0]&&r>=i[1]||t>i[0])&&(0===r?e[t-1].length===e[t-o].length?a.push({winner:"banker"}):a.push({winner:"player"}):!e[t-(o-1)][r]&&e[t-(o-1)][r-1]?a.push({winner:"player"}):a.push({winner:"banker"}),n.inquiry&&(a[a.length-1].inquiry=n.inquiry))})}),a}function dishWay(n,r){void 0===r&&(r=6);for(var t=0,e=[];t<n.length;)e.push(n.slice(t,t+=r));return e}function bigWay(n,r){return void 0===r&&(r=6),turnRightColumn(filterTie(n),r)}function bigEyeWay(n,r){void 0===r&&(r=6);var t=[0,0],n=bigWayInfiniteRow(n);return n[2]||n[1]?(n[1]?t=[1,1]:n[2]&&(t=[2,0]),turnRightColumn(threeWayColumn(n,t,2),r)):[]}function smallWay(n,r){void 0===r&&(r=6);var t=[0,0],e=bigWayInfiniteRow(n);return n[3]||n[2]?(n[2]?t=[2,1]:n[3]&&(t=[3,0]),turnRightColumn(threeWayColumn(e,t,2),r)):[]}function cockroachWay(n,r){void 0===r&&(r=6);var t=[0,0],e=bigWayInfiniteRow(n);return n[4]||n[3]?(n[3]?t=[3,1]:n[4]&&(t=[4,0]),turnRightColumn(threeWayColumn(e,t,2),r)):[]}exports.__esModule=!0,exports.cockroachWay=exports.smallWay=exports.bigEyeWay=exports.bigWay=exports.dishWay=void 0,exports.dishWay=dishWay,exports.bigWay=bigWay,exports.bigEyeWay=bigEyeWay,exports.smallWay=smallWay,exports.cockroachWay=cockroachWay;